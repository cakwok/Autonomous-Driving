This project is about building a complete fusion system with camera and LiDAR, using extended Kalman Filter to track multiple objects like vehicles, pedestrains, etc, in a urban scene. 

## Tracking
We initialize a new track with the first measurement.  Each time when we receive new measurements from one of the sensors,  the update function is triggered.  If the measurement is generated by a LiDAR sensor, we can simply apply a standard Kalman filter to update the vehicle state.  However, camera measurements involves a non-linear measurement function and we will use an Extended Kalman Filter to handle this non-linearity. 

In this task, a 6D F matrix to used predict positions and velocities in xyz dimensions, and a Q matrix to estimate both noise covariance.  Then at the update step, the residual values for camera sensor is computed by a linear approximation, first order Taylor expansion, such that after image coordinates transformation, the resulted would still in a Gaussian distribution.

<img src="https://user-images.githubusercontent.com/21034990/224194307-fc91fc2b-f912-4cf7-ace7-0598c21ce95b.png" width=500><img src="https://user-images.githubusercontent.com/21034990/224194319-0115dbda-dab3-4eb8-a487-05a1a322700a.png" width=500>

## Track Management
In real world scenario, we usually have multiple objects in the vehicles environment and we also receive multiple measurements at each time stamp.

Track management is about initalization of new tracks, deletion of old tracks, and assignment of confidence value to a track.

In this task, I have initialized a track by transforming a measurement from sensor to vehicle coorinates.  Then to keep track of unassigned tracks over a window size. 

If a track is in confirmed state but has fallen below a threshold, the track would be deleted.  Alternatively, we can remove initialized and tentative tracks if their noise covariance has exceeded a certain values, since the uncertainly is large enough to be discarded.

Otherwise, a confirmed track would be increased in track score so we would have a confidence level of a track.

<img width="500" alt="image" src="https://user-images.githubusercontent.com/21034990/224194171-a4891c20-ff05-4e7b-862e-53c316ba9d80.png"><img width="500" alt="image" src="https://user-images.githubusercontent.com/21034990/224194042-d1b076ef-21ac-474b-a6e3-7c8133ebbb98.png">

## Data Association
<img width="1245" alt="image" src="https://user-images.githubusercontent.com/21034990/224204659-7fae6e5b-d2ed-4f4f-a085-ab1eadb3ba67.png"> 
<img width="1238" alt="image" src="https://user-images.githubusercontent.com/21034990/224203648-a8f81344-a9c0-45a0-9897-a44fc99a4f36.png">

## Sensor Fusion
<img width="1267" alt="image" src="https://user-images.githubusercontent.com/21034990/224209913-a021082c-4f3c-426b-bd82-919e6eebcd16.png">
<img width="1264" alt="image" src="https://user-images.githubusercontent.com/21034990/224209865-08542e88-9e68-4498-bfa3-d57359c1240a.png">
